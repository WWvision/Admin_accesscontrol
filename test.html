<html>
	

	<body>
		<input id='name1' onkeyup='printName1()'>
		<div id='result1'>결과1</div>
		<input id='name2' onchange='printName2()'/>
		<div id='result2'>결과2</div>
		<input id='name3' onchange='printName3()'/>
		<div id='result3'>결과3</div>
		
		
		<input id='car_num' onkeyup='searchInfo1()'>
		<div id='result4'>결과4</div>
	</body>
	
	<script>
	function printName1()  {
  const name = document.getElementById('name1').value;
  document.getElementById("result1").innerText = name;  
}

function printName2()  {
  var name = document.getElementById('name2').value;
  document.getElementById("result2").innerText = name;
}
function printName3() {
 const visitor_info = document.getElementById("name3").value;
 const split_arr1 = visitor_info.split("~");
 var final_arr = [];
 for(var i=0;i<split_arr1.length ; i++){
	var split_arr2 = split_arr1[i].split("/");
	var obj_arr = `\n { name: "${split_arr2[0]}", birth:"${split_arr2[1]}", bs:"${split_arr2[2]}",car:"${split_arr2[3]}", car_color:"${split_arr2[4]}", car_num:"${split_arr2[5]}",address:"${split_arr2[6]}", phone:"${split_arr2[7]}", count:"${split_arr2[8]}" }`;
	final_arr.push(obj_arr);
 }	
 document.getElementById("result3").innerText = final_arr;
}

visitor_Array = [
{ name: "김승일", birth:"991001", bs:"업무1",car:"차1", car_color:"색1", car_num:"번호1",address:"주소1", phone:"폰1", count:0 },
{ name: "김승이", birth:"991002", bs:"업무2",car:"차2", car_color:"색2", car_num:"번호2",address:"주소2", phone:"폰2", count:0 },
{ name: "김승삼", birth:"991003", bs:"업무3",car:"차3", car_color:"색3", car_num:"번호3",address:"주소3", phone:"폰3", count:0 },
{ name: "김승사", birth:"991004", bs:"업무4",car:"차4", car_color:"색4", car_num:"번호4",address:"주소4", phone:"폰4", count:0 },
{ name: "김승오", birth:"991005", bs:"업무5",car:"차5", car_color:"색5", car_num:"번호5",address:"주소5", phone:"폰5", count:0 },
{ name: "김승육", birth:"991006", bs:"업무6",car:"차6", car_color:"색6", car_num:"번호6",address:"주소6", phone:"폰6", count:0 }
];

function searchInfo1(){
	
	const visitor_info = document.getElementById("car_num").value;
	var index = visitor_Array.findIndex(e=> e.car_num === visitor_info );
	if(index != -1){
		visitor_Array[index].count += 1;
		document.getElementById("result4").innerHTML = `이름:${visitor_Array[index].name} ,생년월일:${visitor_Array[index].birth} ,용무:${visitor_Array[index].bs} ,차:${visitor_Array[index].car} ,차색:${visitor_Array[index].car_color} ,차번호:${visitor_Array[index].car_num} ,주소:${visitor_Array[index].address} ,폰:${visitor_Array[index].phone} ,카운트:${visitor_Array[index].count} `;
		
	}else 
		document.getElementById("result4").innerText = "Not Found";
}
//민간인 출입통제
//이름 검색을 통해 이전 기록을 파악
//차량 번호 전체를 검색하지 않아도 검색되는 기능

/* 
김승일/991001/업무1/차1/색1/번호1/주소1/폰1/카운트1~
김승이/991002/업무2/차2/색2/번호2/주소2/폰2/카운트2~
김승삼/991003/업무3/차3/색3/번호3/주소3/폰3/카운트3~
김승사/991004/업무4/차4/색4/번호4/주소4/폰4/카운트4~
김승오/991005/업무5/차5/색5/번호5/주소5/폰5/카운트5~
김승육/991006/업무6/차6/색6/번호6/주소6/폰6/카운트6



*/
	</script>
	
</html>